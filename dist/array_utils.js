// Generated by CoffeeScript 1.10.0
(function() {
  angular.module("mpx-frontend-module-utils").factory('$arrayUtils', function() {
    var _index, add, dirty, insert, remove, replace;
    remove = function(arr, objects) {
      if (!_.isArray(objects)) {
        objects = [objects];
      }
      _.each(objects, function(obj) {
        var index;
        index = _index(arr, obj);
        if (index > -1) {
          arr.splice(index, 1);
        }
        return console.log('hello');
      });
      return dirty(arr);
    };
    replace = function(arr, objects) {
      if (!_.isArray(objects)) {
        objects = [objects];
      }
      _.each(objects, function(obj) {
        var index;
        index = _index(arr, obj);
        if (index > -1) {
          return arr[index] = obj;
        }
      });
      return dirty(arr);
    };
    add = function(arr, objects) {
      if (!_.isArray(objects)) {
        objects = [objects];
      }
      _.each(objects, function(obj) {
        return arr.push(obj);
      });
      return dirty(arr);
    };
    insert = function(arr, objects) {
      if (!_.isArray(objects)) {
        objects = [objects];
      }
      _.each(objects, function(obj) {
        return arr.unshift(obj);
      });
      return dirty(arr);
    };
    dirty = function(arr) {
      return arr.$$id = arr.$$id | 0 + 1;
    };
    _index = function(arr, object) {
      return _.findIndex(arr, function(el) {
        return el['@id'] === object['@id'];
      });
    };
    return {
      remove: remove,
      replace: replace,
      add: add,
      insert: insert,
      dirty: dirty
    };
  });

}).call(this);
